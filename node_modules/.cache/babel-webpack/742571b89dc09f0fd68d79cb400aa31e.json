{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Equipo/source/Tgsc-Proyectos/youManager-web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { FormGroup, Validators, FormControl } from '@angular/forms';\nimport { DialogoConfirmacionComponent } from '@shared/components/dialogo-confirmacion/dialogo-confirmacion.component';\nlet FormAplicacionComponent = class FormAplicacionComponent {\n  constructor(dialogo, fb) {\n    this.dialogo = dialogo;\n    this.fb = fb;\n    this.onGuardar = new EventEmitter();\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.objRegistro) {\n        //EsEdicion            \n        _this.formulario = _this.fb.group({\n          nombre: [{\n            value: _this.objRegistro.Nombre,\n            disabled: false\n          }, [Validators.required, Validators.minLength(3), Validators.maxLength(50)]],\n          descripcion: [{\n            value: _this.objRegistro.Descripcion,\n            disabled: false\n          }, [Validators.required, Validators.minLength(3), Validators.maxLength(50)]],\n          Peso: [{\n            value: _this.objRegistro.Peso,\n            disabled: false\n          }, [Validators.required]]\n        });\n      } else {\n        _this.formulario = new FormGroup({\n          Codigo: new FormControl('', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]),\n          Nombre: new FormControl('', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]),\n          NombreCompleto: new FormControl('', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]),\n          CodigoAcceso: new FormControl('', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]),\n          JwtKey: new FormControl('', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]),\n          dominioweb: new FormControl('', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]),\n          passwordDefault: new FormControl('', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]),\n          Activo: new FormControl(true, []),\n          jsonEmail: new FormControl('', [Validators.required])\n        });\n      }\n    })();\n  }\n\n  guardar() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this2.formulario.invalid) {\n        _this2.formulario.markAllAsTouched();\n\n        return;\n      }\n\n      _this2.dialogo.open(DialogoConfirmacionComponent, {\n        maxWidth: '25vw',\n        maxHeight: 'auto',\n        height: 'auto',\n        width: '25%',\n        disableClose: true,\n        data: {\n          titulo: `Registro de Roles`,\n          mensaje: `¿Está seguro que desea grabar?`\n        }\n      }).afterClosed().subscribe( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (Ok) {\n          if (Ok) {\n            let request = {\n              Id: _this2.objRegistro ? _this2.objRegistro.Id : 0,\n              nombre: _this2.formulario.value.nombre,\n              descripcion: _this2.formulario.value.descripcion,\n              Peso: _this2.formulario.value.Peso,\n              listOpciones: [],\n              listAcciones: [],\n              idAplicacion: localStorage.getItem(\"App\")\n            };\n\n            _this2.onGuardar.emit(request);\n          }\n        });\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    })();\n  }\n\n};\n\n__decorate([Input()], FormAplicacionComponent.prototype, \"objRegistro\", void 0);\n\n__decorate([Output()], FormAplicacionComponent.prototype, \"onGuardar\", void 0);\n\nFormAplicacionComponent = __decorate([Component({\n  selector: 'app-form-aplicacion-page',\n  templateUrl: './form-aplicacion-page.component.html',\n  styleUrls: ['./form-aplicacion-page.component.css'],\n  providers: []\n})], FormAplicacionComponent);\nexport { FormAplicacionComponent };","map":{"version":3,"sources":["C:\\Users\\Equipo\\source\\Tgsc-Proyectos\\youManager-web\\src\\app\\modules\\seguridad\\pages\\aplicacion\\form-aplicacion-page\\form-aplicacion-page.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output, Inject, Injectable } from '@angular/core';\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { OpcionService } from '@modules/seguridad/services/opcion.service';\r\nimport { RolesDto } from '@core/models/seguridad/RolesDto';\r\nimport { BootstrapNotifyBarService } from \"@shared/services/bootstrap-notify.service\";\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { FormGroup, FormBuilder, Validators, FormControl, FormArray, ValidatorFn, AbstractControl } from '@angular/forms';\r\nimport {SelectionModel} from '@angular/cdk/collections';\r\nimport {FlatTreeControl} from '@angular/cdk/tree';\r\nimport {MatTreeFlatDataSource, MatTreeFlattener} from '@angular/material/tree';\r\nimport {BehaviorSubject} from 'rxjs';\r\nimport { DialogoConfirmacionComponent } from '@shared/components/dialogo-confirmacion/dialogo-confirmacion.component';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-form-aplicacion-page',\r\n  templateUrl: './form-aplicacion-page.component.html',\r\n  styleUrls:['./form-aplicacion-page.component.css'],\r\n  providers: [     ]\r\n})\r\nexport class FormAplicacionComponent implements OnInit {\r\n  @Input() objRegistro: any;\r\n  @Output() onGuardar: EventEmitter<any> = new EventEmitter();  \r\n  formulario: FormGroup;\r\n  \r\n\r\n  decryptedMessage : string;\r\n\r\n  constructor(public dialogo: MatDialog,\r\n              private fb: FormBuilder) {        \r\n  }\r\n  async ngOnInit() {\r\n    if(this.objRegistro){ //EsEdicion            \r\n      this.formulario = this.fb.group({      \r\n        nombre: [{ value: this.objRegistro.Nombre, disabled: false }, [Validators.required, Validators.minLength(3), Validators.maxLength(50)]],        \r\n        descripcion: [{ value: this.objRegistro.Descripcion, disabled: false }, [Validators.required, Validators.minLength(3), Validators.maxLength(50)]],\r\n        Peso: [{ value: this.objRegistro.Peso, disabled: false }, [Validators.required]]\r\n      });\r\n    }else{\r\n      this.formulario = new FormGroup({      \r\n        Codigo: new FormControl('', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]),\r\n        Nombre: new FormControl('', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]),\r\n        NombreCompleto: new FormControl('', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]),\r\n        CodigoAcceso: new FormControl('', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]),\r\n        JwtKey: new FormControl('', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]),\r\n        dominioweb: new FormControl('', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]),\r\n        passwordDefault: new FormControl('', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]),\r\n        Activo:new FormControl(true,[]),\r\n        jsonEmail: new FormControl('', [Validators.required])\r\n      });\r\n    }\r\n  } \r\n  async guardar() {\r\n    if (this.formulario.invalid) {\r\n      this.formulario.markAllAsTouched();\r\n      return;\r\n    }\r\n    this.dialogo.open(DialogoConfirmacionComponent, { maxWidth: '25vw', maxHeight: 'auto', height: 'auto', width: '25%', disableClose: true,\r\n      data: { titulo: `Registro de Roles`, mensaje: `¿Está seguro que desea grabar?` }\r\n    }).afterClosed().subscribe(async (Ok: Boolean) => {\r\n        if (Ok) {          \r\n          let request: any = {\r\n            Id : this.objRegistro ? this.objRegistro.Id : 0,\r\n            nombre : this.formulario.value.nombre,\r\n            descripcion : this.formulario.value.descripcion,\r\n            Peso : this.formulario.value.Peso,\r\n            listOpciones :  [],\r\n            listAcciones : [],\r\n            idAplicacion : localStorage.getItem(\"App\")\r\n          };          \r\n          this.onGuardar.emit(request);\r\n        }\r\n      });\r\n  }\r\n}"],"sourceRoot":""},"metadata":{},"sourceType":"module"}